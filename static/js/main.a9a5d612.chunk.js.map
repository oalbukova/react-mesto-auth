{"version":3,"sources":["images/logo.svg","images/union.svg","images/icon.svg","components/NavBar.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ConfirmationPopup.js","components/Register.js","components/Login.js","utils/Api.js","utils/auth.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","NavBar","props","signOut","email","className","onClick","Header","loggedIn","onSignOut","userData","loginState","emptyClick","src","headerLogo","alt","lang","type","id","htmlFor","to","CurrentUserContext","React","createContext","Card","currentUser","useContext","cardImgStyle","backgroundImage","card","link","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","key","onCardClick","style","onCardDelete","name","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","clickImages","Footer","ImagePopup","isOpen","onClose","PopupWithForm","formName","method","action","onSubmit","title","children","disabled","buttonSaveName","isLoading","submit","EditProfilePopup","nameRef","useRef","descriptionRef","useState","setName","description","setDescription","nameError","setNameError","descriptionError","setDescriptionError","nameValid","setNameValid","descriptionValid","setDescriptionValid","setDisabled","validate","current","validationMessage","validity","valid","useEffect","e","preventDefault","onUpdateUser","required","placeholder","value","ref","pattern","minLength","maxLength","onChange","target","AddPlacePopup","linkRef","setLink","linkError","setLinkError","linkValid","setLinkValid","EditAvatarPopup","avatarRef","setAvatar","avatarError","setAvatarError","avatarValid","setAvatarValid","onUpdateAvatar","ConfirmationPopup","onDelete","Register","onRegister","onLoginState","emailRef","passwordRef","setEmail","password","setPassword","registerEmailError","setRegisterEmailError","registerPasswordError","setRegisterPasswordError","emailValid","setEmailValid","passwordValid","setPasswordValid","Login","onLogin","loginEmailError","setLoginEmailError","loginPasswordError","setLoginPasswordError","history","useHistory","then","push","catch","err","console","log","api","options","this","_url","baseUrl","_headers","headers","fetch","res","ok","json","Promise","reject","status","body","JSON","stringify","cardName","cardLink","authorization","BASE_URL","ProtectedRoute","Component","component","InfoTooltip","successStyle","errorImg","union","successImg","icon","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteConfirmationPopupOpen","setIsDeleteConfirmationPopupOpen","selectedCard","setSelectedCard","setCards","cardDelete","setCardDelete","dataImage","setDataImage","setCurrentUser","setIsLoading","setLoggedIn","setLoginState","setUserData","isTooltipOpen","setIsTooltipOpen","successToolTip","setSuccessToolTip","isEmpty","setIsEmpty","emptyClassName","handleLoginState","state","handleSuccessToolTip","handleTooltipOpen","tokenCheck","token","jwt","localStorage","getItem","Authorization","Error","data","removeItem","closeAllPopups","setTimeout","handleEscClose","handlerOverlayClick","classList","contains","all","getInfoUser","getInitialCards","user","window","addEventListener","removeEventListener","Provider","exact","path","changeLikeCardStatus","newCard","newCards","c","setItem","auth","finally","openToolTip","update","result","addNewCard","updateAvatar","deleteCard","filter","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.a9a5d612.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.62dd2ec0.svg\";","module.exports = __webpack_public_path__ + \"static/media/union.4072126c.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon.e38b395c.svg\";","import React from \"react\";\n\nfunction NavBar(props) {\n  const { signOut, email } = props;\n\n  return (\n    <nav className=\"header__nav\">\n      <ul className=\"header__list header__list_main\">\n        <li className=\"header__list-item header__list-item_main\">{email}</li>\n        <li onClick={signOut} className=\"header__list-link\">\n          Выйти\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default NavBar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport headerLogo from \"../images/logo.svg\";\nimport NavBar from \"./NavBar\";\n\nfunction Header(props) {\n  const { loggedIn, onSignOut, userData, loginState, emptyClick } = props;\n  return (\n    <header className=\"header page__header\">\n      <img className=\"logo\" src={headerLogo} alt=\"logo\" lang=\"en\" />\n      {loggedIn ? (\n        <>\n          <input\n            type=\"checkbox\"\n            className=\"header__menu-toggle\"\n            id=\"header__menu-toggle\"\n          />\n          <label\n            htmlFor=\"header__menu-toggle\"\n            className=\"header__menu-button\"\n            onClick={emptyClick}\n          >\n            <span className=\"header__menu-span\" onClick={emptyClick} />\n          </label>\n          <NavBar signOut={onSignOut} email={userData ? userData.email : \"\"} />\n        </>\n      ) : (\n        <Link\n          to={loginState ? \"/sign-in\" : \"/sign-up\"}\n          className=\"header__list-link\"\n        >\n          {loginState ? \"Войти\" : \"Регистрация\"}\n        </Link>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const cardImgStyle = {\n    backgroundImage: 'url(' + props.card.link + ')',\n  };\n  const isOwn = props.card.owner._id === currentUser._id;// Определяем, являемся ли мы владельцем текущей карточки\n  const cardDeleteButtonClassName = (\n    `card__delete ${isOwn ? '' : 'card__delete_hidden'}`\n  );// Создаём переменную, которую после зададим в `className` для кнопки удаления\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const cardLikeButtonClassName = (\n    `like__button ${isLiked ? 'like__button_type_active' : ''}`\n  );// Создаём переменную, которую после зададим в `className` для кнопки лайка\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li key={props.card._id} className=\"card card-list__card\">\n      <div onClick={handleClick} className=\"card__img\" style={cardImgStyle} />\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n      <div className=\"card__caption\">\n        <h2 className=\"card__text\">{props.card.name}</h2>\n        <div className=\"like\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n          {props.card.likes.length > 0 &&\n          <p className=\"like__sum\">\n            {props.card.likes.length}\n          </p>\n          }\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile main__profile\">\n        <img\n          className=\"profile__img\"\n          src={currentUser.avatar}\n          alt={currentUser.name}\n          name=\"avatar\"\n        />\n        <div onClick={props.onEditAvatar} className=\"profile__img-hover\" />\n        <div className=\"profile__container\">\n          <div className=\"profile__info\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n          <button\n            onClick={props.onEditProfile}\n            className=\"profile__edit-button\"\n            type=\"button\"\n          />\n        </div>\n        <button\n          onClick={props.onAddPlace}\n          className=\"profile__add-button\"\n          type=\"button\"\n        />\n      </section>\n\n      <ul className=\"card-list main__card-list\">\n        {props.cards &&\n          props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.clickImages}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n      </ul>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__content\">&copy; 2020 Olga Albukova</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  return (\n    <section className={(props.isOpen ? \"popup popup_opened\" : \"popup\")} id=\"popupBig\">\n      <div className=\"popup-view\">\n        <button onClick={props.onClose} className=\"button-close\" id=\"view-close\" type=\"reset\"></button>\n        <figure className=\"popup-view__item\">\n          <img src={props.card.link} className=\"popup-view__img\" alt={props.card.name}/>\n          <figcaption className=\"popup-view__caption\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <section className={(props.isOpen ? \"popup popup_opened\" : \"popup\")} id={props.name}>\n      <form className={`popup__container popup__container_type_${props.formName}`} name={props.name} method=\"post\" action=\"#\" onSubmit={props.onSubmit}>\n        <button onClick={props.onClose} className=\"button-close\" type=\"reset\"></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button className={(!props.disabled ? `popup__button-save popup__button-save_type_${props.buttonSaveName}` : \"popup__button-save popup__button-save_type_disabled\")} type=\"submit\"  disabled={props.disabled}>\n          {props.isLoading ? `Сохранение...` : props.submit}\n        </button>\n      </form>\n    </section>\n  );\n}\n\nexport default PopupWithForm;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const nameRef = React.useRef();\n  const descriptionRef = React.useRef();\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [nameError, setNameError] = React.useState(\"\");\n  const [descriptionError, setDescriptionError] = React.useState(\"\");\n  const [nameValid, setNameValid] = React.useState(false);\n  const [descriptionValid, setDescriptionValid] = React.useState(false);\n  const [disabled, setDisabled] = React.useState(true);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n    validate();\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n    validate();\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    props.onUpdateUser({\n      // Передаём значения управляемых компонентов во внешний обработчик\n      name,\n      about: description,\n    });\n  }\n\n  function validate() {\n    setNameError(nameRef.current.validationMessage);\n    setDescriptionError(descriptionRef.current.validationMessage);\n\n    !nameRef.current.validity.valid ? setNameValid(false) : setNameValid(true);\n    !descriptionRef.current.validity.valid\n      ? setDescriptionValid(false)\n      : setDescriptionValid(true);\n  }\n\n  React.useEffect(() => {\n    //После загрузки текущего пользователя из API его данные будут использованы в управляемых компонентах.\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  React.useEffect(() => {\n    setDisabled(false);\n    setNameError(\"\");\n    setDescriptionError(\"\");\n  }, [props.isOpen]);\n\n  React.useEffect(() => {\n    nameValid && descriptionValid ? setDisabled(false) : setDisabled(true);\n  }, [nameValid, descriptionValid, name, description]);\n\n  return (\n    <PopupWithForm\n      name=\"form_profile\"\n      title=\"Редактировать профиль\"\n      submit=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isLoading={props.isLoading}\n      disabled={disabled}\n    >\n      <input\n        className=\"popup__input popup__input_type_name\"\n        id=\"name-input\"\n        type=\"text\"\n        required\n        placeholder=\"Имя\"\n        value={name || \"\"}\n        ref={nameRef}\n        name=\"name\"\n        pattern=\"[A-Za-zА-Яа-яЁё -]*\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        onChange={handleChangeName}\n      />\n      <span\n        className={`popup__span-error ${\n          !nameValid && \"popup__span-error_type_active\"\n        }`}\n        id=\"name-input-error\"\n      >\n        {nameError}\n      </span>\n      <input\n        className=\"popup__input popup__input_type_job\"\n        id=\"job-input\"\n        type=\"text\"\n        required\n        placeholder=\"О себе\"\n        value={description || \"\"}\n        ref={descriptionRef}\n        name=\"about\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        onChange={handleChangeDescription}\n      />\n      <span\n        className={`popup__span-error ${\n          !descriptionValid && \"popup__span-error_type_active\"\n        }`}\n        id=\"job-input-error\"\n      >\n        {descriptionError}\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const nameRef = useRef();\n  const linkRef = useRef();\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  const [nameError, setNameError] = React.useState(\"\");\n  const [linkError, setLinkError] = React.useState(\"\");\n  const [nameValid, setNameValid] = React.useState(false);\n  const [linkValid, setLinkValid] = React.useState(false);\n  const [disabled, setDisabled] = React.useState(true);\n\n  React.useEffect(() => {\n    setDisabled(true);\n    setNameError(\"\");\n    setLinkError(\"\");\n    setName(\"\");\n    setLink(\"\");\n  }, [props.isOpen]);\n\n  React.useEffect(() => {\n    nameValid && linkValid ? setDisabled(false) : setDisabled(true);\n  }, [nameValid, linkValid, name, link]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n    validate();\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n    validate();\n  }\n\n  function validate() {\n    setNameError(nameRef.current.validationMessage);\n    setLinkError(linkRef.current.validationMessage);\n\n    !nameRef.current.validity.valid ? setNameValid(false) : setNameValid(true);\n    !linkRef.current.validity.valid ? setLinkValid(false) : setLinkValid(true);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    props.onAddPlace({\n      // Передаём значения управляемых компонентов во внешний обработчик\n      name,\n      link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"form_card\"\n      title=\"Новое место\"\n      submit=\"Создать\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isLoading={props.isLoading}\n      disabled={disabled}\n    >\n      <input\n        className=\"popup__input popup__input_type_place\"\n        id=\"name\"\n        type=\"text\"\n        value={name || \"\"}\n        required\n        placeholder=\"Название\"\n        name=\"name\"\n        minLength=\"1\"\n        maxLength=\"30\"\n        onChange={handleChangeName}\n        ref={nameRef}\n      />\n      <span\n        className={`popup__span-error ${\n          !nameValid && \"popup__span-error_type_active\"\n        }`}\n        id=\"name-error\"\n      >\n        {nameError}\n      </span>\n      <input\n        className=\"popup__input popup__input_type_link\"\n        id=\"link\"\n        type=\"url\"\n        required\n        placeholder=\"Ссылка на картинку\"\n        name=\"link\"\n        ref={linkRef}\n        value={link || \"\"}\n        onChange={handleChangeLink}\n      />\n      <span\n        className={`popup__span-error ${\n          !linkValid && \"popup__span-error_type_active\"\n        }`}\n        id=\"link-error\"\n      >\n        {linkError}\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n  const currentUser = React.useContext(CurrentUserContext);\n  const [avatar, setAvatar] = React.useState(\"\");\n  const [avatarError, setAvatarError] = React.useState(\"\");\n  const [avatarValid, setAvatarValid] = React.useState(false);\n  const [disabled, setDisabled] = React.useState(true);\n\n  function handleChangeAvatar(e) {\n    setAvatar(e.target.value);\n    validate();\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    props.onUpdateAvatar({\n      // Передаём значения управляемых компонентов во внешний обработчик\n      avatar: avatar,\n    });\n  }\n\n  function validate() {\n    setAvatarError(avatarRef.current.validationMessage);\n    !avatarRef.current.validity.valid\n      ? setAvatarValid(false)\n      : setAvatarValid(true);\n  }\n\n  React.useEffect(() => {\n    //После загрузки текущего пользователя из API его данные будут использованы в управляемых компонентах.\n    setAvatar(\"\");\n  }, [currentUser, props.isOpen]);\n\n  React.useEffect(() => {\n    setDisabled(true);\n    setAvatarError(\"\");\n  }, [props.isOpen]);\n\n  React.useEffect(() => {\n    avatarValid ? setDisabled(false) : setDisabled(true);\n  }, [avatarValid, avatar]);\n\n  return (\n    <PopupWithForm\n      name=\"form_avatar\"\n      formName=\"avatar\"\n      title=\"Обновить аватар\"\n      submit=\"Создать\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isLoading={props.isLoading}\n      disabled={disabled}\n    >\n      <input\n        onChange={handleChangeAvatar}\n        ref={avatarRef}\n        value={avatar || \"\"}\n        minLength=\"2\"\n        maxLength=\"200\"\n        className=\"popup__input popup__input_type_avatar\"\n        id=\"avatar-input\"\n        type=\"url\"\n        required\n        placeholder=\"Ссылка на картинку\"\n        name=\"link\"\n      />\n      <span\n        className={`popup__span-error ${\n          !avatarValid && \"popup__span-error_type_active\"\n        }`}\n        id=\"avatar-input-error\"\n      >\n        {avatarError}\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction ConfirmationPopup(props) {\n\n  function handleSubmit(e) {    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    props.onDelete()\n  }\n\n  return (\n    <PopupWithForm name=\"form_confirmation\" buttonSaveName=\"confirm\" formName=\"confirm\" title='Вы уверены?' submit='Да' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}/>\n  );\n}\n\nexport default ConfirmationPopup;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const { onRegister, onLoginState } = props;\n  const emailRef = React.useRef();\n  const passwordRef = React.useRef();\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [registerEmailError, setRegisterEmailError] = React.useState(\"\");\n  const [registerPasswordError, setRegisterPasswordError] = React.useState(\"\");\n  const [emailValid, setEmailValid] = React.useState(false);\n  const [passwordValid, setPasswordValid] = React.useState(false);\n  const [disabled, setDisabled] = React.useState(true);\n\n  React.useEffect(() => {\n    onLoginState(true);\n  }, [onLoginState]);\n\n  function validate() {\n    setRegisterEmailError(emailRef.current.validationMessage);\n    setRegisterPasswordError(passwordRef.current.validationMessage);\n\n    !emailRef.current.validity.valid\n      ? setEmailValid(false)\n      : setEmailValid(true);\n    !passwordRef.current.validity.valid\n      ? setPasswordValid(false)\n      : setPasswordValid(true);\n  }\n\n  React.useEffect(() => {\n    setDisabled(false);\n    setRegisterEmailError(\"\");\n    setRegisterPasswordError(\"\");\n  }, []);\n\n  React.useEffect(() => {\n    emailValid && passwordValid ? setDisabled(false) : setDisabled(true);\n  }, [emailValid, passwordValid, email, password]);\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n    validate();\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n    validate();\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n     onRegister({ email, password })\n  };\n\n  return (\n    <section className=\"registration\">\n      <form\n        disabled={disabled}\n        onSubmit={handleSubmit}\n        className=\"popup__container popup__container_registration\"\n      >\n        <h2 className=\"popup__title popup__title_registration\">Регистрация</h2>\n        <input\n          className=\"popup__input popup__input_registration\"\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          value={email || \"\"}\n          ref={emailRef}\n          onChange={handleChangeEmail}\n          placeholder=\"Email\"\n          required\n          pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"\n          minLength=\"4\"\n          maxLength=\"40\"\n        />\n        <span\n          className={`popup__span-error popup__span-error_email ${\n            !emailValid && \"popup__span-error_type_active \"\n          }`}\n          id=\"email-input-error\"\n        >\n          {registerEmailError}\n        </span>\n        <input\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          value={password || \"\"}\n          ref={passwordRef}\n          onChange={handleChangePassword}\n          className=\"popup__input popup__input_registration\"\n          required\n          placeholder=\"Пароль\"\n          minLength=\"10\"\n          maxLength=\"10\"\n        />\n        <span\n          className={`popup__span-error ${\n            !passwordValid && \"popup__span-error_type_active\"\n          }`}\n          id=\"password-input-error\"\n        >\n          {registerPasswordError}\n        </span>\n        <button type=\"submit\" className=\"popup__button-registration\">\n          Зарегистрироваться\n        </button>\n        <Link to=\"/sign-in\" className=\"popup__span-registration\">\n          Уже зарегистрированы? Войти\n        </Link>\n      </form>\n    </section>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nfunction Login(props) {\n  const { onLogin, onLoginState } = props;\n  const emailRef = React.useRef();\n  const passwordRef = React.useRef();\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [loginEmailError, setLoginEmailError] = React.useState(\"\");\n  const [loginPasswordError, setLoginPasswordError] = React.useState(\"\");\n  const [emailValid, setEmailValid] = React.useState(false);\n  const [passwordValid, setPasswordValid] = React.useState(false);\n  const [disabled, setDisabled] = React.useState(true);\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!email || !password) {\n      return;\n    }\n    onLogin({ email, password }).then(() => {\n      history.push(\"/\");\n    })\n  .catch((err) => {\n      console.log(err);\n    })\n  };\n\n  function validate() {\n    setLoginEmailError(emailRef.current.validationMessage);\n    setLoginPasswordError(passwordRef.current.validationMessage);\n\n    !emailRef.current.validity.valid\n      ? setEmailValid(false)\n      : setEmailValid(true);\n    !passwordRef.current.validity.valid\n      ? setPasswordValid(false)\n      : setPasswordValid(true);\n  }\n\n  React.useEffect(() => {\n    setDisabled(false);\n    setLoginEmailError(\"\");\n    setLoginPasswordError(\"\");\n  }, []);\n\n  React.useEffect(() => {\n    emailValid && passwordValid ? setDisabled(false) : setDisabled(true);\n  }, [emailValid, passwordValid, email, password]);\n\n  React.useEffect(() => {\n    onLoginState(false);\n  }, [onLoginState]);\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n    validate();\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n    validate();\n  }\n\n  return (\n    <section className=\"registration\">\n      <form\n        onSubmit={handleSubmit}\n        disabled={disabled}\n        className=\"popup__container popup__container_registration\"\n      >\n        <h2 className=\"popup__title popup__title_registration\">Вход</h2>\n        <input\n          className=\"popup__input popup__input_registration\"\n          required\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email || \"\"}\n          ref={emailRef}\n          onChange={handleChangeEmail}\n          pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"\n          minLength=\"4\"\n          maxLength=\"40\"\n        />\n        <span\n          className={`popup__span-error popup__span-error_email ${\n            !emailValid && \"popup__span-error_type_active \"\n          }`}\n          id=\"email-input-error\"\n        >\n          {loginEmailError}\n        </span>\n        <input\n          className=\"popup__input popup__input_registration\"\n          required\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          minLength=\"10\"\n          maxLength=\"10\"\n          value={password || \"\"}\n          ref={passwordRef}\n          onChange={handleChangePassword}\n        />\n        <span\n          className={`popup__span-error ${\n            !passwordValid && \"popup__span-error_type_active\"\n          }`}\n          id=\"password-input-error\"\n        >\n          {loginPasswordError}\n        </span>\n        <button type=\"submit\" className=\"popup__button-registration\">\n          Войти\n        </button>\n        <Link to=\"/sign-up\" className=\"popup__span-registration\">\n          Ещё не зарегистрированы? Регистрация\n        </Link>\n      </form>\n    </section>\n  );\n}\n\nexport default Login;\n","class Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getInfoUser() {\n    return fetch(`${this._url}/users/me`, {\n        headers: this._headers,\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n      });\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n        method: 'GET',\n        headers: this._headers,\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`); // если ошибка, отклоняем промис\n      });\n  }\n\n  updateInfo(name, about) {\n    return fetch(`${this._url}/users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: name,\n          about: about\n        })\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  addNewCard(cardName, cardLink) {\n    return fetch(`${this._url}/cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: cardName,\n          link: cardLink\n        })\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n        method: 'DELETE',\n        baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\n        headers: this._headers,\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`error${res.status}`);\n      });\n  };\n\n  changeLikeCardStatus(id, status) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: `${(status) ? 'PUT' : 'DELETE'}`,\n      headers: this._headers,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  updateAvatar(link) {\n    return fetch(`${this._url}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar: link\n        })\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\n  headers: {\n    authorization: '77aadbcb-6e04-47e7-b5a0-c659fba79fac',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({email, password}),\n  })\n    .then((res) => {\n      if (res.status !== 400) {\n        return res.json();\n      } else {\n        throw new Error(\"Некорректно заполнено одно из полей\");\n      }\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({email, password}),\n  })\n    .then((res) => {\n        if (res.status === 200) {\n          return res.json();\n        }\n        if (res.status === 400) {\n          throw new Error(\"Не передано одно из полей\");\n        }\n        if (res.status === 401) {\n          throw new Error(\"Пользователь с email не найден\");\n        }\n    })\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        return data;\n      }\n      return;\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => {\n        if (res.status === 200) {\n          return res.json();\n        }\n        if (res.status === 400) {\n          throw new Error(\"Токен не передан или передан не в том формате\");\n        }\n        if (res.status === 401) {\n          throw new Error(\"Переданный токен некорректен\");\n        }\n    })\n    .then((data) => {\n      return data;\n    })\n    .catch((err) => console.log(err));\n};\n\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  )}\n\nexport default ProtectedRoute;","import React from \"react\";\nimport union from \"../images/union.svg\";\nimport icon from \"../images/icon.svg\";\n\nfunction InfoTooltip(props) {\n  const { isOpen, onClose, successStyle } = props;\n  const errorImg = {\n    backgroundImage: \"url(\" + union + \")\",\n  };\n  const successImg = {\n    backgroundImage: \"url(\" + icon + \")\",\n  };\n\n  return (\n    <section\n      className={isOpen ? \"popup popup_opened\" : \"popup\"}\n      id=\"InfoTooltip\"\n    >\n      <form className=\"popup__container popup__container_type_login\">\n        <button\n          onClick={onClose}\n          className=\"button-close button-close_login\"\n          id=\"formError-close\"\n          type=\"button\"\n        />\n        <div\n          className=\"popup__img\"\n          style={successStyle ? successImg : errorImg}\n        />\n        <h2 className=\"popup__title popup__title_type_login\">\n          {successStyle\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n        </h2>\n      </form>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","import React from \"react\";\nimport {Route, Switch, Redirect, useHistory} from \"react-router-dom\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ConfirmationPopup from \"./ConfirmationPopup\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport api from \"../utils/Api\";\nimport * as auth from \"../utils/auth.js\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport ProtectedRoute from \"./ProtectedRoute\"; // импортируем HOC\nimport InfoTooltip from \"./InfoTooltip\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [\n    isDeleteConfirmationPopupOpen,\n    setIsDeleteConfirmationPopupOpen,\n  ] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [cardDelete, setCardDelete] = React.useState([]);\n  const [dataImage, setDataImage] = React.useState({});\n  const setImage = (card) => {\n    setDataImage(card);\n    handleCardClick();\n  };\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isLoading, setIsLoading] = React.useState();\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [loginState, setLoginState] = React.useState(false);\n  const [userData, setUserData] = React.useState({});\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\n  const [successToolTip, setSuccessToolTip] = React.useState(false);\n  const [isEmpty, setIsEmpty] = React.useState(false);\n  const history = useHistory();\n  const emptyClassName = `${isEmpty ? \"empty\" : \"empty_type_inactive\"}`;\n\n  function handleChangeEmpty() {\n    setIsEmpty(!isEmpty);\n  }\n\n  function handleLoginState(state) {\n    setLoginState(state);\n  }\n\n  function handleSuccessToolTip() {\n    setSuccessToolTip(true);\n  }\n\n  function handleTooltipOpen() {\n    setIsTooltipOpen(true);\n  }\n\n  function handleRegister({email, password}) {\n    setIsLoading(true);\n    return auth.register(email, password)\n      .then((res) => {\n        setIsLoading(false);\n        if (res) {\n          handleSuccessToolTip()\n          setTimeout(handleTooltipOpen, 1000);\n          history.push(\"/sign-in\");\n        } else {\n          throw new Error('Не удалось завершить регистрацию')\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка регистрации пользователя: ${err}`);\n        handleTooltipOpen();\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleLogin({email, password}) {\n    setIsLoading(true);\n    return auth\n      .authorize(email, password)\n      .then((res) => {\n        if (res && res.token) {\n          setLoggedIn(true);\n          tokenCheck();\n        } else {\n          handleTooltipOpen();\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function signOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth.getContent(jwt).then((res) => {\n        if (res) {\n          setUserData({\n            id: res.data._id,\n            email: res.data.email,\n          });\n          setLoggedIn(true);\n          history.push(\"/\");\n        } else {\n          localStorage.removeItem(\"jwt\");\n        }\n      })\n        .catch((err) => {\n          console.log(err);\n          history.push('/sign-in');\n        })\n    }\n  }\n\n  React.useEffect(() => {\n    tokenCheck();\n    // eslint-disable-next-line\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    Promise.all([api.getInfoUser(), api.getInitialCards()]) //загрузка данных профиля и карточек\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick() {\n    setSelectedCard(true);\n  }\n\n  function handleDeleteClick() {\n    setIsDeleteConfirmationPopupOpen(true);\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      // Обновляем стейт\n      setCards(newCards);\n    });\n  }\n\n  function handleCardDelete(card) {\n    setCardDelete(card);\n    handleDeleteClick();\n  }\n\n  function handleConfirmDelete() {\n    setIsLoading(true);\n    api\n      .deleteCard(cardDelete._id)\n      .then(() => {\n        // Формируем новый массив на основе имеющегося, убирая из него карточку\n        const newCards = cards.filter((c) => c._id !== cardDelete._id);\n        // Обновляем стейт\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err); // выведем ошибку в консоль\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleUpdateUser(user) {\n    setIsLoading(true);\n    api\n      .update(user.name, user.about)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err); // выведем ошибку в консоль\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsLoading(true);\n    api\n      .addNewCard(card.name, card.link)\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err); // выведем ошибку в консоль\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleUpdateAvatar(user) {\n    setIsLoading(true);\n    api\n      .updateAvatar(user.avatar)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n    setIsDeleteConfirmationPopupOpen(false);\n    setDataImage({});\n    setIsTooltipOpen(false);\n    setTimeout(setSuccessToolTip, 2000, false);\n  }\n\n  function handleEscClose(e) {\n    if (e.key === \"Escape\") {\n      closeAllPopups();\n    }\n  }\n\n  function handlerOverlayClick(e) {\n    if (e.target.classList.contains(\"popup\")) {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    window.addEventListener(\"keydown\", handleEscClose);\n    window.addEventListener(\"mousedown\", handlerOverlayClick);\n\n    return () => {\n      window.removeEventListener(\"mousedown\", handlerOverlayClick);\n      window.removeEventListener(\"keydown\", handleEscClose);\n    };\n  });\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className={emptyClassName}/>\n      <div className=\"page\">\n        <Header\n          loggedIn={loggedIn}\n          onSignOut={signOut}\n          userData={userData}\n          loginState={loginState}\n          emptyClick={handleChangeEmpty}\n        />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            clickImages={setImage}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Route path=\"/sign-in\">\n            <Login\n              name=\"login\"\n              successToolTip={handleSuccessToolTip}\n              onLogin={handleLogin}\n              onLoginState={handleLoginState}\n              isLoading={isLoading}\n            />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register\n              name=\"register\"\n              onRegister={handleRegister}\n              openToolTip={handleTooltipOpen}\n              successToolTip={handleSuccessToolTip}\n              onLoginState={handleLoginState}\n              isLoading={isLoading}\n            />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\"/> : <Redirect to=\"/sign-in\"/>}\n          </Route>\n        </Switch>\n        <Footer/>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <ConfirmationPopup\n          isOpen={isDeleteConfirmationPopupOpen}\n          onClose={closeAllPopups}\n          onDelete={handleConfirmDelete}\n          isLoading={isLoading}\n        />\n        <ImagePopup\n          isOpen={selectedCard}\n          onClose={closeAllPopups}\n          card={dataImage}\n        />\n        <InfoTooltip\n          isOpen={isTooltipOpen}\n          onClose={closeAllPopups}\n          successStyle={successToolTip}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}